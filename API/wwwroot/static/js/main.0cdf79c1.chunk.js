(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{312:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return en}));var i=n(0),r=n(48),c=n.n(r),a=(n(308),n(309),n(310),n(311),n(312),n(499)),o=n(288),s=n(229),u=n(515),l=n(290),d=n(153),j=n(24),b=n(19),h=n(40),f=n(17),p=n(8),O=n.n(p),v=n(14),g=n(11),x=n(12),m=n(18),y=n(46),w=n.n(y),k=n(147),_="/",C="/activities",A=function(e){return C+"/".concat(e)},S=function(e){return"/manage/".concat(e)},L="/createActivity",I="/assets/user.png",P=function(e){return"/assets/categoryImages/".concat(e)},N="/assets/logo.png",F="/errors",M="/profiles",U=function(e){return M+"/".concat(e)},E=function(e){return"/photos/".concat(e)},T=function(e){return"/follow/".concat(e)},D="/api",R="/vklogin",z="success",G="https://oauth.vk.com/authorize?\nclient_id=".concat(8070387,"&display=page&\nredirect_uri=").concat("https://rayvax-reactivities.herokuapp.com/vklogin","&\nscope=").concat(4194308,"&\nresponse_type=token&v=5.131&state=").concat(z),H=function e(t,n){Object(g.a)(this,e),this.data=void 0,this.pagination=void 0,this.data=t,this.pagination=n},V=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;Object(g.a)(this,e),this.pageNumber=void 0,this.pageSize=void 0,this.pageNumber=t,this.pageSize=n};w.a.defaults.baseURL=D,w.a.interceptors.request.use((function(e){var t=le.commonStore.token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),w.a.interceptors.response.use(function(){var e=Object(v.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=7;break}return t.data=new H(t.data,JSON.parse(n)),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:if(n.errors){n.errors.hasOwnProperty("guid")&&en.push("/not-found");var i=[];for(var r in n.errors)n.errors[r]&&i.push(n.errors[r]);throw i.flat()}k.b.error(n);break;case 401:k.b.error("Unauthorised");break;case 404:en.push("/not-found");break;case 500:le.commonStore.error=n,en.push("/server-error")}return Promise.reject(e)}));var q=function(e){return e.data},B=function(e){return w.a.get(e).then(q)},W=function(e,t){return w.a.post(e,t).then(q)},J=function(e,t){return w.a.put(e,t).then(q)},K=function(e){return w.a.delete(e).then(q)},Y={Activities:{getList:function(e){return w.a.get(C,{params:e}).then(q)},getActivity:function(e){return B(A(e))},create:function(e){return W(C,e)},edit:function(e){return J(A(e.id||"unknown"),e)},delete:function(e){return K(A(e))},attend:function(e){return W(function(e){return A(e)+"/attend"}(e),{})}},Account:{currentUser:function(){return B("/account")},login:function(e){return W("/account/login",e)},register:function(e){return W("/account/register",e)},vkLogin:function(e,t){return W(function(e,t){return"/account/vklogin?accessToken=".concat(e,"&email=").concat(t)}(e,t),{})}},Profiles:{getProfile:function(e){return B(U(e))},uploadPhoto:function(e){var t=new FormData;return t.append("File",e),w.a.post("photos",t,{headers:{"Content-type":"multipart/form-data"}})},setMainImage:function(e){return W(function(e){return E(e)+"/setmain"}(e),{})},deleteImage:function(e){return K(E(e))},updateProfile:function(e){return J(M,e)},updateFollowing:function(e){return W(T(e),{})},getFollowings:function(e,t){return B(function(e,t){return T(e)+"?predicate=".concat(t)}(e,t))},getProfileActivities:function(e,t){return B(function(e,t){return"/profiles/".concat(e,"/activities?predicate=").concat(t)}(e,t))}}},Z=n(481);function Q(e,t){return e?Object(Z.default)(e,t):"INCORRECT DATE"}var X,$=function(){function e(){var t=this;Object(g.a)(this,e),this._activities=new Map,this._selectedActivity=void 0,this._isLoadingInitial=!1,this._isLoading=!1,this._pagination=null,this._pagingParams=new V,this._predicates=(new Map).set("all",!0),this.hasActivity=function(e){return t._activities.has(e)},this.setIsLoadingInitial=function(e){return t._isLoadingInitial=e},this.setIsLoading=function(e){return t._isLoading=e},this.setPagination=function(e){return t._pagination=e},this.setPagingParams=function(e){return t._pagingParams=e},this.setPredicate=function(e,n){"startDate"===e?t._predicates.delete(e):t._predicates.forEach((function(e,n){"startDate"!==n&&t._predicates.delete(n)})),t._predicates.set(e,n)},this.loadActivities=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadInitial(Object(v.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Activities.getList(t.axiosPagingParams);case 2:(n=e.sent).data.forEach((function(e){t.setActivity(e)})),t.setPagination(n.pagination);case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))),this.loadActivity=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadInitial(Object(v.a)(O.a.mark((function e(){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.getActivity(n))){e.next=6;break}return t._selectedActivity=i,e.abrupt("return",i);case 6:return e.next=8,Y.Activities.getActivity(n);case 8:return i=e.sent,t.setActivity(i),Object(m.h)((function(){return t._selectedActivity=i})),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createActivity=function(){var e=Object(v.a)(O.a.mark((function e(n){var i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=le.userStore.currentUserName,r=le.userStore.getProfileWrapper(),e.next=4,t.runInLoading(Object(v.a)(O.a.mark((function e(){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Activities.create(n);case 2:(c=n.toActivity()).hostUserName=i,c.attendees=[r],t.setActivity(c),Object(m.h)((function(){return t._selectedActivity=c}));case 7:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.editActivity=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Activities.edit(n);case 2:Object(m.h)((function(){if(n.id){var e=Object(f.a)(Object(f.a)({},t.getActivity(n.id)),n);t._activities.set(n.id,e),t._selectedActivity=e}}));case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteActivity=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Activities.delete(n);case 2:Object(m.h)((function(){t._activities.delete(n)}));case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setActivity=function(e){var n,i,r=le.userStore.currentUserName;r&&(e.isGoing=null===(n=e.attendees)||void 0===n?void 0:n.some((function(e){return e.userName===r})),e.isHosting=e.hostUserName===r,e.host=null===(i=e.attendees)||void 0===i?void 0:i.find((function(t){return t.userName===e.hostUserName})));e.date=new Date(e.date),t._activities.set(e.id,e)},this.updateAttendance=Object(v.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=le.userStore.currentUserName,e.next=3,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Activities.attend(t.selectedActivity.id);case 2:Object(m.h)((function(){var e;if(null===(e=t.selectedActivity)||void 0===e?void 0:e.isGoing){var i;t.selectedActivity.attendees=null===(i=t.selectedActivity.attendees)||void 0===i?void 0:i.filter((function(e){return e.userName!==n})),t.selectedActivity.isGoing=!1}else{var r,c,a=le.userStore.getProfileWrapper();null===(r=t.selectedActivity)||void 0===r||null===(c=r.attendees)||void 0===c||c.push(a),t.selectedActivity.isGoing=!0}t._activities.set(t.selectedActivity.id,t.selectedActivity)}));case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))),this.cancelSelectedActivityToggle=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._selectedActivity){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Activities.attend(t._selectedActivity.id);case 2:Object(m.h)((function(){t._selectedActivity.isCancelled=!t._selectedActivity.isCancelled,t._activities.set(t._selectedActivity.id,t._selectedActivity)}));case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)}))),this.updateAttendeeFollowing=function(e){t._activities.forEach((function(t){t.attendees.forEach((function(t){t.userName===e&&(t.following?t.followersCount--:t.followersCount++,t.following=!t.following)}))}))},this.getActivity=function(e){return t._activities.get(e)},this.runInLoading=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setIsLoading(!0),e.prev=1,e.next=4,n();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,t.setIsLoading(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),this.loadInitial=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setIsLoadingInitial(!0),e.prev=1,e.next=4,n();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,t.setIsLoadingInitial(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),Object(m.d)(this),Object(m.g)((function(){return t._predicates.keys()}),(function(){t._pagingParams=new V,t._activities.clear(),t.loadActivities()}))}return Object(x.a)(e,[{key:"activitiesByDate",get:function(){return Array.from(this._activities.values()).sort((function(e,t){return e.date.getTime()-t.date.getTime()}))}},{key:"groupedActivities",get:function(){return Object.entries(this.activitiesByDate.reduce((function(e,t){var n=Q(t.date,"dd MMM yyyy");return e[n]=e[n]?[].concat(Object(h.a)(e[n]),[t]):[t],e}),{}))}},{key:"selectedActivity",get:function(){return this._selectedActivity}},{key:"isLoadingInitial",get:function(){return this._isLoadingInitial}},{key:"isLoading",get:function(){return this._isLoading}},{key:"axiosPagingParams",get:function(){var e=new URLSearchParams;return e.append("pageNumber",this._pagingParams.pageNumber.toString()),e.append("pageSize",this._pagingParams.pageSize.toString()),this._predicates.forEach((function(t,n){"startDate"===n?e.append(n,t.toISOString()):e.append(n,t)})),e}},{key:"pagination",get:function(){return this._pagination}},{key:"predicates",get:function(){return this._predicates}},{key:"clearSelectedActivity",value:function(){this._selectedActivity=void 0}}]),e}(),ee="jwt",te=function(){function e(){var t=this;Object(g.a)(this,e),this._error=null,this._token=window.localStorage.getItem(ee),this._appLoaded=!1,Object(m.d)(this),Object(m.g)((function(){return t._token}),(function(e){e?window.localStorage.setItem(ee,e):window.localStorage.removeItem(ee)}))}return Object(x.a)(e,[{key:"error",get:function(){return this._error},set:function(e){this._error=e}},{key:"setToken",value:function(e){this._token=e}},{key:"token",get:function(){return this._token}},{key:"setAppLoaded",value:function(){this._appLoaded=!0}},{key:"appLoaded",get:function(){return this._appLoaded}}]),e}(),ne=function e(t){Object(g.a)(this,e),this.userName=t.userName,this.displayName=t.displayName,this.image=t.image},ie=function(){function e(){var t=this;Object(g.a)(this,e),this._user=null,this._isLoadingVkLogin=!1,this.getProfileWrapper=function(){return t._user?new ne(t._user):null},this.login=function(){var e=Object(v.a)(O.a.mark((function e(n){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Account.login(n);case 2:i=e.sent,le.commonStore.setToken(i.token),Object(m.h)((function(){return t._user=i})),en.push(C),le.modalStore.closeModal();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){le.commonStore.setToken(null),t._user=null,en.push(_)},this.register=function(){var e=Object(v.a)(O.a.mark((function e(n){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Account.register(n);case 2:i=e.sent,le.commonStore.setToken(i.token),Object(m.h)((function(){return t._user=i})),en.push(C),le.modalStore.closeModal();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.loadCurrentUser=Object(v.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.Account.currentUser();case 3:n=e.sent,Object(m.h)((function(){return t._user=n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.setCurrentUserMainImage=function(e){t._user&&(t._user.image=e)},this.setDisplayName=function(e){t._user&&(t._user.displayName=e)},this.redirectToVkLogin=function(){window.location.replace(G)},this.vkLogin=function(){var e=Object(v.a)(O.a.mark((function e(n,i){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._isLoadingVkLogin=!0,e.prev=1,e.next=4,Y.Account.vkLogin(n,i);case 4:r=e.sent,Object(m.h)((function(){return t._user=r})),le.commonStore.setToken(r.token),en.push(C),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,Object(m.h)((function(){return t._isLoadingVkLogin=!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),Object(m.d)(this)}return Object(x.a)(e,[{key:"isLoggedIn",get:function(){return!!this._user}},{key:"currentUserName",get:function(){var e;return null===(e=this._user)||void 0===e?void 0:e.userName}},{key:"currentImage",get:function(){var e;return null===(e=this._user)||void 0===e?void 0:e.image}},{key:"currentDisplayName",get:function(){var e;return null===(e=this._user)||void 0===e?void 0:e.displayName}},{key:"isLoadingVkLogin",get:function(){return this._isLoadingVkLogin}}]),e}(),re=function(){function e(){var t=this;Object(g.a)(this,e),this._content=null,this._isOpen=!1,this.openModal=function(e){t._content=e,t._isOpen=!0},this.closeModal=function(){t._content=null,t._isOpen=!1},Object(m.d)(this)}return Object(x.a)(e,[{key:"content",get:function(){return this._content}},{key:"isOpen",get:function(){return this._isOpen}}]),e}();!function(e){e[e.About=0]="About",e[e.Photos=1]="Photos",e[e.Events=2]="Events",e[e.Followers=3]="Followers",e[e.Following=4]="Following"}(X||(X={}));var ce=function(){function e(){var t=this;Object(g.a)(this,e),this._profile=null,this._isLoadingProfile=!1,this._isUploading=!1,this._isLoading=!1,this._activeTab=0,this._followings=[],this._isLoadingFollowers=!1,this._profileActivities=[],this.loadProfile=function(){var e=Object(v.a)(O.a.mark((function e(n){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._isLoadingProfile=!0,e.prev=1,e.next=4,Y.Profiles.getProfile(n);case 4:i=e.sent,Object(m.h)((function(){t._profile=i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,Object(m.h)((function(){return t._isLoadingProfile=!1})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),this.uploadPhoto=function(){var e=Object(v.a)(O.a.mark((function e(n){var i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._isUploading=!0,e.prev=1,e.next=4,Y.Profiles.uploadPhoto(n);case 4:i=e.sent,r=i.data,Object(m.h)((function(){var e;t._profile&&(null===(e=t._profile.photos)||void 0===e||e.push(r),r.isMain&&(le.userStore.setCurrentUserMainImage(r.url),t._profile.image=r.url))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,Object(m.h)((function(){return t._isUploading=!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),this.setMainImage=function(){var e=Object(v.a)(O.a.mark((function e(n){var i,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(c=null===(i=t._profile)||void 0===i||null===(r=i.photos)||void 0===r?void 0:r.find((function(e){return e.isMain})))||void 0===c?void 0:c.id)!==n.id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Profiles.setMainImage(n.id);case 2:le.userStore.setCurrentUserMainImage(n.url),Object(m.h)((function(){t._profile&&t._profile.photos&&(t._profile.image=n.url,c.isMain=!1,t._profile.photos.find((function(e){return e.id===n.id})).isMain=!0)}));case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteImage=function(){var e=Object(v.a)(O.a.mark((function e(n){var i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=t._profile)||void 0===i||null===(r=i.photos)||void 0===r?void 0:r.some((function(e){return e.id===n.id}))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Profiles.deleteImage(n.id);case 2:Object(m.h)((function(){var e;t._profile&&(t._profile.photos=null===(e=t._profile.photos)||void 0===e?void 0:e.filter((function(e){return e.id!==n.id})))}));case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateProfile=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.runInLoading(Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Profiles.updateProfile(n);case 2:le.userStore.setDisplayName(n.displayName),Object(m.h)((function(){t._profile&&(t._profile.displayName=n.displayName,t._profile.about=n.about)}));case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateFollowing=function(e){t.runInLoading(Object(v.a)(O.a.mark((function n(){var i,r,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y.Profiles.updateFollowing(e);case 2:i=n.sent,r=i.following,le.activityStore.updateAttendeeFollowing(e),c=r?1:-1,Object(m.h)((function(){if(t._profile){var n=t._profile.userName===e;t._profile.userName===le.userStore.currentUserName?t._profile.followingCount+=c:n&&(t._profile.followersCount+=c,t._profile.following=r)}t._followings.forEach((function(t){t.userName===e&&(t.followersCount+=c,t.following=r)}))}));case 7:case"end":return n.stop()}}),n)}))))},this.loadProfileActivities=function(e){if(e)return t.runInLoading(Object(v.a)(O.a.mark((function n(){var i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t._profile){n.next=6;break}return n.next=3,Y.Profiles.getProfileActivities(t._profile.userName,e);case 3:(i=n.sent).forEach((function(e){e.date=new Date(e.date)})),Object(m.h)((function(){return t._profileActivities=i}));case 6:case"end":return n.stop()}}),n)}))))},this.clearProfileActivities=function(){return t._profileActivities=[]},this.loadFollowings=function(){var e=Object(v.a)(O.a.mark((function e(n){var i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._isLoadingFollowers=!0,e.prev=1,e.next=4,Y.Profiles.getFollowings(null===(i=t._profile)||void 0===i?void 0:i.userName,n);case 4:r=e.sent,Object(m.h)((function(){return t._followings=r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,Object(m.h)((function(){return t._isLoadingFollowers=!1})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),this.runInLoading=function(){var e=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setIsLoading(!0),e.prev=1,e.next=4,n();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,t.setIsLoading(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),Object(m.d)(this),Object(m.g)((function(){return t._activeTab}),(function(e){if(e===X.Following||e===X.Followers){var n=e===X.Followers?"followers":"following";t.loadFollowings(n)}else t._followings=[]}))}return Object(x.a)(e,[{key:"profile",get:function(){return this._profile}},{key:"profileActivities",get:function(){return this._profileActivities}},{key:"isLoadingProfile",get:function(){return this._isLoadingProfile}},{key:"isUploading",get:function(){return this._isUploading}},{key:"isLoading",get:function(){return this._isLoading}},{key:"isLoadingFollowers",get:function(){return this._isLoadingFollowers}},{key:"followings",get:function(){return this._followings}},{key:"isCurrentUser",get:function(){var e=le.userStore.currentUserName;return!!this._profile&&e===this._profile.userName}},{key:"activeTab",get:function(){return this._activeTab},set:function(e){this._activeTab=e}},{key:"setIsLoading",value:function(e){this._isLoading=e}}]),e}(),ae=function e(t,n){Object(g.a)(this,e),this.body=void 0,this.activityId=void 0,this.body=t,this.activityId=n},oe=n(503),se=n(9),ue=function(){function e(){var t=this;Object(g.a)(this,e),this._comments=[],this._hubConnection=null,this.createHubConnection=function(e){le.activityStore.hasActivity(e)&&(t._hubConnection=(new oe.a).withUrl(function(e){return"/chat"+"?activityId=".concat(e)}(e),{accessTokenFactory:function(){return le.commonStore.token}}).withAutomaticReconnect().configureLogging(se.a.Information).build(),t._hubConnection.start().catch((function(e){return console.log("Error establishing the connection: ",e)})),t._hubConnection.on("LoadComments",(function(e){Object(m.h)((function(){e.forEach((function(e){e.createdAt=new Date(e.createdAt+"Z")})),t._comments=e}))})),t._hubConnection.on("ReceiveComment",(function(e){Object(m.h)((function(){e.createdAt=new Date(e.createdAt),t._comments.unshift(e)}))})))},this.stopHubConnection=function(){var e;null===(e=t._hubConnection)||void 0===e||e.stop().catch((function(e){return console.log("Error stopping connection: ",e)}))},this.clearComments=function(){t._comments=[],t.stopHubConnection()},this.addComment=function(){var e=Object(v.a)(O.a.mark((function e(n){var i,r,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(i=le.activityStore.selectedActivity)||void 0===i?void 0:i.id,c=new ae(n,r),e.prev=2,e.next=5,null===(a=t._hubConnection)||void 0===a?void 0:a.invoke("SendComment",c);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),Object(m.d)(this)}return Object(x.a)(e,[{key:"comments",get:function(){return this._comments}}]),e}(),le={activityStore:new $,commonStore:new te,userStore:new ie,modalStore:new re,profileStore:new ce,commentStore:new ue},de=Object(i.createContext)(le);function je(){return Object(i.useContext)(de)}var be=n(1),he=Object(b.a)((function(){var e=je().userStore,t=e.logout,n=e.currentUserName,i=e.currentImage,r=e.currentDisplayName;return Object(be.jsx)(o.a,{inverted:!0,fixed:"top",children:Object(be.jsxs)(a.a,{children:[Object(be.jsxs)(s.a,{as:j.b,exact:!0,to:_,header:!0,children:[Object(be.jsx)("img",{src:N,alt:"logo"}),"Reactivities"]}),Object(be.jsx)(s.a,{as:j.b,to:C,name:"Activities"}),Object(be.jsx)(s.a,{as:j.b,to:F,name:"Errors"}),Object(be.jsx)(s.a,{children:Object(be.jsx)(u.a,{as:j.b,to:L,content:"Create Activity",positive:!0})}),Object(be.jsxs)(s.a,{position:"right",children:[Object(be.jsx)(l.a,{src:i||I,avatar:!0,spaced:"right"}),Object(be.jsx)(d.a,{pointing:"top left",text:r,children:Object(be.jsxs)(d.a.Menu,{children:[Object(be.jsx)(d.a.Item,{as:j.a,to:U(n||"unknown"),content:"My profile",icon:"user"}),Object(be.jsx)(d.a.Item,{onClick:t,content:"Logout",icon:"power"})]})})]})]})})})),fe=n(21),pe=n(291),Oe=n(139),ve=n(500),ge=n(519),xe=n(230),me=n(192),ye=n(508),we=n(94),ke=n(509),_e=n(505),Ce=n(511),Ae=n(521),Se=Object(b.a)((function(e){var t=e.profile,n=je(),i=n.profileStore,r=n.userStore,c=i.updateFollowing,a=i.isLoading;return t.userName===r.currentUserName?null:Object(be.jsxs)(Ae.a,{animated:"move",children:[Object(be.jsx)(Ae.a.Content,{visible:!0,style:{width:"100%"},children:Object(be.jsx)(u.a,{fluid:!0,color:"teal",content:t.following?"Following":"Not following"})}),Object(be.jsx)(Ae.a.Content,{hidden:!0,style:{width:"100%"},children:Object(be.jsx)(u.a,{onClick:function(e){return function(e,t){e.preventDefault(),c(t)}(e,t.userName)},fluid:!0,basic:!0,color:t.following?"red":"green",content:t.following?"Unfollow":"Follow",loading:a})})]})})),Le=Object(b.a)((function(e){var t=e.profile,n=e.aboutLength,i=void 0===n?40:n;var r=t.about?function(e){if(e)return e.length>i?e.substring(0,i-3)+"...":e}(t.about):"Hello, I am ".concat(t.displayName);return Object(be.jsxs)(Ce.a,{as:j.a,to:U(t.userName),children:[Object(be.jsx)(l.a,{src:t.image||I}),Object(be.jsxs)(Ce.a.Content,{children:[Object(be.jsx)(Ce.a.Header,{children:t.displayName}),Object(be.jsx)(Ce.a.Description,{children:r})]}),Object(be.jsxs)(Ce.a.Content,{extra:!0,children:[Object(be.jsx)(we.a,{name:"user"}),t.followersCount," followers"]}),Object(be.jsx)(Se,{profile:t})]})})),Ie={borderColor:"orange",borderWidth:3},Pe=Object(b.a)((function(e){var t=e.attendees;return Object(be.jsx)(ke.a,{horizontal:!0,children:t.map((function(e){return Object(be.jsx)(_e.a,{hoverable:!0,trigger:Object(be.jsx)(ke.a.Item,{as:j.a,to:U(e.userName),children:Object(be.jsx)(l.a,{src:e.image||I,size:"mini",circular:!0,bordered:!0,style:e.following?Ie:null})},e.userName),children:Object(be.jsx)(Le,{profile:e})},e.userName)}))})}));function Ne(e){var t,n,i=e.activity;return Object(be.jsxs)(xe.a.Group,{children:[Object(be.jsxs)(xe.a,{children:[i.isCancelled&&Object(be.jsx)(me.a,{attached:"top",color:"red",content:"Cancelled",style:{textAlign:"center"}}),Object(be.jsx)(ye.a.Group,{children:Object(be.jsxs)(ye.a,{children:[Object(be.jsx)(ye.a.Image,{src:(null===(t=i.host)||void 0===t?void 0:t.image)||I,as:j.a,to:U(i.hostUserName),size:"tiny",circular:!0,style:{marginBottom:3}}),Object(be.jsxs)(ye.a.Content,{children:[Object(be.jsx)(ye.a.Header,{as:j.a,to:A(i.id),children:i.title}),Object(be.jsxs)(ye.a.Description,{children:["Hosted by ",Object(be.jsx)(j.a,{to:U(i.hostUserName),children:null===(n=i.host)||void 0===n?void 0:n.displayName})]}),i.isHosting&&Object(be.jsx)(ye.a.Description,{children:Object(be.jsx)(me.a,{basic:!0,color:"orange",children:"You are hosting this activity"})}),i.isGoing&&!i.isHosting&&Object(be.jsx)(ye.a.Description,{children:Object(be.jsx)(me.a,{basic:!0,color:"green",children:"You are going to this activity"})})]})]})})]}),Object(be.jsxs)(xe.a,{children:[Object(be.jsx)(we.a,{name:"clock"})," ",Object(be.jsx)("span",{style:{marginRight:"1em"},children:Q(i.date,"dd MMM yyyy hh:mm")}),Object(be.jsx)(we.a,{name:"marker"}),i.venue]}),Object(be.jsx)(xe.a,{secondary:!0,children:Object(be.jsx)(Pe,{attendees:i.attendees})}),Object(be.jsxs)(xe.a,{clearing:!0,children:[Object(be.jsx)("span",{children:i.description}),Object(be.jsx)(u.a,{as:j.a,to:A(i.id),color:"teal",floated:"right",content:"View"})]})]})}var Fe=Object(b.a)((function(){var e=je().activityStore.groupedActivities;return Object(be.jsx)(be.Fragment,{children:e.map((function(e){var t=Object(fe.a)(e,2),n=t[0],r=t[1];return Object(be.jsxs)(i.Fragment,{children:[Object(be.jsx)(ge.a,{sub:!0,color:"teal",children:n}),r.map((function(e){return Object(be.jsx)(Ne,{activity:e},e.id)}))]},n)}))})})),Me=n(286),Ue=Object(b.a)((function(){var e=je().activityStore,t=e.predicates,n=e.setPredicate;return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(o.a,{vertical:!0,size:"large",style:{width:"100%",marginTop:"1.8em"},children:[Object(be.jsx)(ge.a,{content:"Filters",icon:"filter",color:"teal",attached:!0}),Object(be.jsx)(o.a.Item,{content:"All Activities",active:t.has("all"),onClick:function(){return n("all","true")}}),Object(be.jsx)(o.a.Item,{content:"I'm going",active:t.has("isGoing"),onClick:function(){return n("isGoing","true")}}),Object(be.jsx)(o.a.Item,{content:"I'm hosting",active:t.has("isHost"),onClick:function(){return n("isHost","true")}})]}),Object(be.jsx)(ge.a,{}),Object(be.jsx)(Me.a,{onChange:function(e){return n("startDate",e)},value:t.get("startDate")})]})})),Ee=n(275),Te=n.n(Ee),De=n(512);function Re(){return Object(be.jsx)(i.Fragment,{children:Object(be.jsx)(De.a,{fluid:!0,style:{marginTop:25},children:Object(be.jsxs)(xe.a.Group,{children:[Object(be.jsx)(xe.a,{style:{minHeight:110},children:Object(be.jsxs)(De.a,{children:[Object(be.jsxs)(De.a.Header,{image:!0,children:[Object(be.jsx)(De.a.Line,{}),Object(be.jsx)(De.a.Line,{})]}),Object(be.jsx)(De.a.Paragraph,{children:Object(be.jsx)(De.a.Line,{})})]})}),Object(be.jsx)(xe.a,{children:Object(be.jsxs)(De.a,{children:[Object(be.jsx)(De.a.Line,{}),Object(be.jsx)(De.a.Line,{})]})}),Object(be.jsx)(xe.a,{secondary:!0,style:{minHeight:70}}),Object(be.jsx)(xe.a,{clearing:!0,children:Object(be.jsx)(u.a,{disabled:!0,color:"blue",floated:"right",content:"View"})})]})})})}var ze=Object(b.a)((function(){var e=je().activityStore,t=e.activitiesByDate,n=e.loadActivities,r=e.setPagingParams,c=e.pagination,a=e.isLoadingInitial,o=Object(i.useState)(!1),s=Object(fe.a)(o,2),u=s[0],l=s[1];return Object(i.useEffect)((function(){t.length<=1&&n()}),[n,t.length]),Object(be.jsxs)(pe.a,{children:[Object(be.jsx)(Oe.a,{width:"10",children:a&&!u?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Re,{}),Object(be.jsx)(Re,{})]}):Object(be.jsx)(Te.a,{pageStart:0,loadMore:function(){c&&(l(!0),r(new V(c.currentPage+1)),n().then((function(){return l(!1)})))},hasMore:!u&&!!c&&c.currentPage<c.totalPagesCount,initialLoad:!1,children:Object(be.jsx)(Fe,{})})}),Object(be.jsx)(Oe.a,{width:"6",children:Object(be.jsx)(Ue,{})}),Object(be.jsx)(pe.a.Column,{width:10,children:Object(be.jsx)(ve.a,{active:u})})]})})),Ge=n(32),He=n(502),Ve=n(28),qe=n(504);function Be(e){var t=Object(Ve.e)(e.name),n=Object(fe.a)(t,2),i=n[0],r=n[1];return Object(be.jsxs)(qe.a.Field,{error:r.touched&&!!r.error,children:[Object(be.jsx)("label",{children:e.label}),Object(be.jsx)("input",Object(f.a)(Object(f.a)({},i),e)),r.touched&&r.error?Object(be.jsx)(me.a,{basic:!0,color:"red",children:r.error}):null]})}var We=Object(b.a)((function(){var e=je().userStore;return Object(be.jsx)(Ve.d,{initialValues:{email:"",password:"",error:null},onSubmit:function(t,n){var i=n.setErrors;return e.login(t).catch((function(e){return i({error:"Invalid email or password"})}))},children:function(e){var t=e.handleSubmit,n=e.isSubmitting,i=e.errors;return Object(be.jsxs)(Ve.c,{className:"ui form",onSubmit:t,autoComplete:"off",children:[Object(be.jsx)(ge.a,{as:"h2",content:"Login to Reactivities",color:"teal",textAlign:"center"}),Object(be.jsx)(Be,{placeholder:"Email",name:"email"}),Object(be.jsx)(Be,{placeholder:"Password",name:"password",type:"password"}),Object(be.jsx)(Ve.a,{name:"error",render:function(){return Object(be.jsx)(me.a,{style:{marginBottom:10},basic:!0,color:"red",content:i.error})}}),Object(be.jsx)(u.a,{content:"Login",type:"submit",positive:!0,fluid:!0,loading:n})]})}})})),Je=n(36),Ke=n(513);function Ye(e){var t=e.errors;return Object(be.jsx)(Ke.a,{error:!0,children:t&&Object(be.jsx)(Ke.a.List,{children:t.map((function(e,t){return Object(be.jsx)(Ke.a.Item,{children:e},t)}))})})}var Ze=Object(b.a)((function(){var e=je().userStore,t=Je.a({displayName:Je.b().required(),userName:Je.b().required(),email:Je.b().required().email(),password:Je.b().required()});return Object(be.jsx)(Ve.d,{initialValues:{displayName:"",userName:"",email:"",password:"",error:null},onSubmit:function(t,n){var i=n.setErrors;return e.register(t).catch((function(e){return i({error:e})}))},validationSchema:t,children:function(e){var t=e.handleSubmit,n=e.isSubmitting,i=e.errors,r=e.isValid,c=e.dirty;return Object(be.jsxs)(Ve.c,{className:"ui form error",onSubmit:t,autoComplete:"off",children:[Object(be.jsx)(ge.a,{as:"h2",content:"Register to Reactivities",color:"teal",textAlign:"center"}),Object(be.jsx)(Be,{placeholder:"Display Name",name:"displayName"}),Object(be.jsx)(Be,{placeholder:"Username",name:"userName"}),Object(be.jsx)(Be,{placeholder:"Email",name:"email"}),Object(be.jsx)(Be,{placeholder:"Password",name:"password",type:"password"}),Object(be.jsx)(Ve.a,{name:"error",render:function(){return Object(be.jsx)(Ye,{errors:i.error})}}),Object(be.jsx)(u.a,{content:"Register",type:"submit",disabled:!r||!c||n,positive:!0,fluid:!0,loading:n})]})}})})),Qe=Object(b.a)((function(){var e=je(),t=e.userStore,n=e.modalStore;return Object(be.jsx)(xe.a,{inverted:!0,vertical:!0,textAlign:"center",className:"masthead",children:Object(be.jsxs)(a.a,{text:!0,children:[Object(be.jsxs)(ge.a,{as:"h1",inverted:!0,children:[Object(be.jsx)(l.a,{src:N,alt:"logo",size:"massive",style:{marginBottom:12}}),"Reactivities"]}),t.isLoggedIn?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ge.a,{as:"h2",inverted:!0,content:"Welcome to Reactivities"}),Object(be.jsx)(u.a,{as:j.a,to:C,size:"huge",inverted:!0,children:"Go to activities!"})]}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(u.a,{onClick:function(){return n.openModal(Object(be.jsx)(We,{}))},size:"huge",inverted:!0,children:"Login"}),Object(be.jsx)(u.a,{onClick:function(){return n.openModal(Object(be.jsx)(Ze,{}))},size:"huge",inverted:!0,children:"Register"}),Object(be.jsx)(He.a,{horizontal:!0,inverted:!0,children:"Or"}),Object(be.jsx)(u.a,{onClick:t.redirectToVkLogin,content:"VK",color:"facebook"})]})]})})})),Xe=function(){function e(t){Object(g.a)(this,e),this.id=void 0,this.title="",this.date=null,this.description="",this.category="",this.city="",this.venue="",t&&(this.id=t.id,this.title=t.title,this.date=t.date,this.description=t.description,this.category=t.category,this.city=t.city,this.venue=t.venue)}return Object(x.a)(e,[{key:"toActivity",value:function(){return{id:this.id,title:this.title,date:this.date,description:this.description,category:this.category,city:this.city,venue:this.venue}}}]),e}(),$e=n(517);function et(e){var t=e.inverted,n=void 0===t||t,i=e.content,r=void 0===i?"Loading...":i;return Object(be.jsx)($e.a,{active:!0,inverted:n,children:Object(be.jsx)(ve.a,{content:r})})}var tt=n(514);function nt(e){var t=Object(Ve.e)(e.name),n=Object(fe.a)(t,2),i=n[0],r=n[1];return Object(be.jsxs)(qe.a.Field,{error:r.touched&&!!r.error,children:[Object(be.jsx)("label",{children:e.label}),Object(be.jsx)("textarea",Object(f.a)(Object(f.a)({},i),e)),r.touched&&r.error?Object(be.jsx)(me.a,{basic:!0,color:"red",children:r.error}):null]})}var it=n(501);function rt(e){var t=Object(Ve.e)(e.name),n=Object(fe.a)(t,3),i=n[0],r=n[1],c=n[2];return Object(be.jsxs)(qe.a.Field,{error:r.touched&&!!r.error,children:[Object(be.jsx)("label",{children:e.label}),Object(be.jsx)(it.a,{clearable:!0,options:e.options,value:i.value||null,onChange:function(e,t){return c.setValue(t.value)},onBlur:function(){return c.setTouched(!0)},placeholder:e.placeholder}),r.touched&&r.error?Object(be.jsx)(me.a,{basic:!0,color:"red",children:r.error}):null]})}var ct=[{text:"Culture",value:"culture"},{text:"Film",value:"film"},{text:"Food",value:"food"},{text:"Meeting",value:"meeting"},{text:"Music",value:"music"},{text:"Travel",value:"travel"}],at=n(280),ot=n.n(at);function st(e){var t=Object(Ve.e)(e.name),n=Object(fe.a)(t,3),i=n[0],r=n[1],c=n[2];return Object(be.jsxs)(qe.a.Field,{error:r.touched&&!!r.error,children:[Object(be.jsx)("label",{children:e.label}),Object(be.jsx)(ot.a,Object(f.a)(Object(f.a)(Object(f.a)({},i),e),{},{selected:i.value&&new Date(i.value)||null,onChange:function(e){return c.setValue(e)}})),r.touched&&r.error?Object(be.jsx)(me.a,{basic:!0,color:"red",children:r.error}):null]})}function ut(e){var t=e.confirmCallback,n=e.cancelCallback,r=e.headerContent,c=Object(i.useState)(!1),a=Object(fe.a)(c,2),o=a[0],s=a[1];return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ge.a,{content:r||"Are you sure?",as:"h2",color:"teal",style:{textAlign:"center",marginBottom:"1em"}}),Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:[Object(be.jsx)(u.a,{onClick:function(){s(!0),t()},icon:"check",color:"green",basic:!0,loading:o,style:{padding:"1em 2em"}}),Object(be.jsx)(u.a,{onClick:n,icon:"cancel",color:"red",basic:!0,style:{padding:"1em 2em"}})]})]})}var lt=Object(b.a)((function(){var e=je(),t=e.activityStore,n=e.modalStore,r=t.loadActivity,c=t.deleteActivity,a=t.selectedActivity,o=Object(Ge.i)().id,s=Object(Ge.g)(),l=Object(i.useState)(new Xe),d=Object(fe.a)(l,2),b=d[0],h=d[1],f=Je.a({title:Je.b().required("The activity title is required"),description:Je.b().required("The activity description is required"),date:Je.b().required(),category:Je.b().required(),city:Je.b().required(),venue:Je.b().required()});function p(){return p=Object(v.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=6;break}return n.id=Object(tt.a)(),e.next=4,t.createActivity(n);case 4:e.next=8;break;case 6:return e.next=8,t.editActivity(n);case 8:s.push(A(n.id));case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function g(){n.openModal(Object(be.jsx)(ut,{headerContent:"Are you sure you want to delete this activity?",confirmCallback:x,cancelCallback:n.closeModal}))}function x(){c(a.id).then((function(){n.closeModal(),s.push(C)}))}return Object(i.useEffect)((function(){o&&r(o).then((function(e){return h(new Xe(e))}))}),[o,r]),t.isLoadingInitial?Object(be.jsx)(et,{content:"Loading activity..."}):Object(be.jsx)(xe.a,{clearing:!0,children:Object(be.jsx)(Ve.d,{validationSchema:f,enableReinitialize:!0,initialValues:b,onSubmit:function(e){return p.apply(this,arguments)},children:function(e){var t=e.handleSubmit,n=e.isSubmitting,i=e.dirty,r=e.isValid;return Object(be.jsxs)(Ve.c,{className:"ui form",onSubmit:t,autoComplete:"off",children:[Object(be.jsx)(ge.a,{content:"Activity Details",sub:!0,color:"teal"}),Object(be.jsx)(Be,{placeholder:"Title",name:"title"}),Object(be.jsx)(nt,{placeholder:"Description of the activity",name:"description",rows:3}),Object(be.jsx)(rt,{placeholder:"Category",name:"category",options:ct}),Object(be.jsx)(st,{placeholderText:"Date",name:"date",showTimeSelect:!0,timeCaption:"time",dateFormat:"MMMM d, yyyy hh:mm"}),Object(be.jsx)(ge.a,{content:"Location Details",sub:!0,color:"teal"}),Object(be.jsx)(Be,{placeholder:"City",name:"city"}),Object(be.jsx)(Be,{placeholder:"Venue",name:"venue"}),o&&Object(be.jsx)(u.a,{onClick:g,type:"button",floated:"right",icon:"trash",basic:!0,disabled:n,color:"red"}),Object(be.jsx)(u.a,{type:"submit",content:"Submit",positive:!0,floated:"left",loading:n,disabled:n||!i||!r}),Object(be.jsx)(u.a,{as:j.a,to:C,floated:"left",type:"button",content:"Cancel",disabled:n})]})}})})})),dt={filter:"brightness(30%)"},jt={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"},bt=Object(b.a)((function(e){var t,n=e.activity,i=je().activityStore,r=i.updateAttendance,c=i.isLoading,a=i.cancelSelectedActivityToggle;return Object(be.jsxs)(xe.a.Group,{children:[Object(be.jsxs)(xe.a,{basic:!0,attached:"top",style:{padding:"0"},children:[n.isCancelled&&Object(be.jsx)(me.a,{style:{position:"absolute",zIndex:1e3,left:-14,top:20},ribbon:!0,color:"red",content:"Cancelled"}),Object(be.jsx)(l.a,{src:P("".concat(n.category,".jpg")),fluid:!0,style:dt}),Object(be.jsx)(xe.a,{style:jt,basic:!0,children:Object(be.jsx)(ye.a.Group,{children:Object(be.jsx)(ye.a,{children:Object(be.jsxs)(ye.a.Content,{children:[Object(be.jsx)(ge.a,{size:"huge",content:n.title,style:{color:"white"}}),Object(be.jsx)("p",{children:Q(n.date,"dd MMM yyyy")}),Object(be.jsxs)("p",{children:["Hosted by ",Object(be.jsx)("strong",{children:Object(be.jsx)(j.a,{to:U(n.hostUserName),children:null===(t=n.host)||void 0===t?void 0:t.displayName})})]})]})})})})]}),Object(be.jsx)(xe.a,{clearing:!0,attached:"bottom",children:n.isHosting?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(u.a,{onClick:a,color:n.isCancelled?"green":"red",floated:"left",basic:!0,loading:c,children:n.isCancelled?"Re-activate activity":"Cancel activity"}),Object(be.jsx)(u.a,{as:j.a,to:S(n.id),disabled:n.isCancelled,color:"orange",floated:"right",content:"Manage Event"})]}):n.isGoing?Object(be.jsx)(u.a,{onClick:r,loading:c,children:"Cancel attendance"}):Object(be.jsx)(u.a,{onClick:r,loading:c,color:"teal",disabled:n.isCancelled,children:"Join Activity"})})]})})),ht=Object(b.a)((function(e){var t=e.activity;return Object(be.jsxs)(xe.a.Group,{children:[Object(be.jsx)(xe.a,{attached:"top",children:Object(be.jsxs)(pe.a,{children:[Object(be.jsx)(pe.a.Column,{width:1,children:Object(be.jsx)(we.a,{size:"large",color:"teal",name:"info"})}),Object(be.jsx)(pe.a.Column,{width:15,children:Object(be.jsx)("p",{children:t.description})})]})}),Object(be.jsx)(xe.a,{attached:!0,children:Object(be.jsxs)(pe.a,{verticalAlign:"middle",children:[Object(be.jsx)(pe.a.Column,{width:1,children:Object(be.jsx)(we.a,{name:"calendar",size:"large",color:"teal"})}),Object(be.jsx)(pe.a.Column,{width:15,children:Object(be.jsx)("span",{children:Q(t.date,"dd MMM yyyy hh:mm")})})]})}),Object(be.jsx)(xe.a,{attached:!0,children:Object(be.jsxs)(pe.a,{verticalAlign:"middle",children:[Object(be.jsx)(pe.a.Column,{width:1,children:Object(be.jsx)(we.a,{name:"marker",size:"large",color:"teal"})}),Object(be.jsx)(pe.a.Column,{width:11,children:Object(be.jsxs)("span",{children:[t.venue,", ",t.city]})})]})})]})})),ft=n(506),pt=n(507),Ot=Object(b.a)((function(e){var t=e.activityId,n=je().commentStore;return Object(i.useEffect)((function(){return t&&n.createHubConnection(t),function(){n.clearComments()}}),[n,t]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(xe.a,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"},children:Object(be.jsx)(ge.a,{children:"Chat about this event"})}),Object(be.jsx)(xe.a,{attached:!0,clearing:!0,children:Object(be.jsxs)(ft.a.Group,{children:[Object(be.jsx)(Ve.d,{initialValues:{body:""},onSubmit:function(e,t){var i=t.resetForm;return n.addComment(e.body).then((function(){return i()}))},validationSchema:Je.a({body:Je.b().required()}),children:function(e){var t=e.isSubmitting,n=e.isValid,i=e.handleSubmit;return Object(be.jsx)(Ve.c,{className:"ui form",children:Object(be.jsx)(Ve.b,{name:"body",children:function(e){return Object(be.jsxs)("div",{style:{position:"relative"},children:[Object(be.jsx)(ve.a,{active:t}),Object(be.jsx)("textarea",Object(f.a)(Object(f.a)({placeholder:"Enter your comment",rows:2},e.field),{},{onKeyPress:function(e){"Enter"===e.key&&e.shiftKey||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n&&i())}}))]})}})})}}),n.comments.map((function(e){return Object(be.jsxs)(ft.a,{children:[Object(be.jsx)(ft.a.Avatar,{src:e.image||I}),Object(be.jsxs)(ft.a.Content,{children:[Object(be.jsx)(ft.a.Author,{as:j.a,to:U(e.userName),children:e.displayName}),Object(be.jsx)(ft.a.Metadata,{children:Object(be.jsxs)("div",{children:[Object(pt.a)(e.createdAt)," ago"]})}),Object(be.jsx)(ft.a.Text,{style:{whiteSpace:"pre-wrap"},children:e.body})]})]},e.id)}))]})})]})})),vt=Object(b.a)((function(e){var t=e.activity,n=t.attendees,i=t.host;return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(xe.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal",children:[n.length," ",1===n.length?"Person":"People"," Going"]}),Object(be.jsx)(xe.a,{attached:!0,children:Object(be.jsx)(ke.a,{relaxed:!0,divided:!0,children:n.map((function(e){return Object(be.jsxs)(ye.a,{style:{position:"relative"},children:[e.userName===(null===i||void 0===i?void 0:i.userName)&&Object(be.jsx)(me.a,{style:{position:"absolute"},color:"orange",ribbon:"right",children:"Host"}),Object(be.jsx)(l.a,{size:"tiny",src:e.image||I}),Object(be.jsxs)(ye.a.Content,{verticalAlign:"middle",children:[Object(be.jsx)(ye.a.Header,{as:"h3",children:Object(be.jsx)(j.a,{to:U(e.userName),children:e.displayName})}),e.following&&Object(be.jsx)(ye.a.Extra,{style:{color:"orange"},children:"Following"})]})]},e.userName)}))})})]})})),gt=Object(b.a)((function(){var e=je().activityStore,t=e.selectedActivity,n=Object(Ge.i)().id;return Object(i.useEffect)((function(){return n&&e.loadActivity(n),function(){return e.clearSelectedActivity()}}),[n,e]),e.isLoadingInitial||!t?Object(be.jsx)(et,{}):Object(be.jsxs)(pe.a,{children:[Object(be.jsxs)(pe.a.Column,{width:"10",children:[Object(be.jsx)(bt,{activity:t}),Object(be.jsx)(ht,{activity:t}),Object(be.jsx)(Ot,{activityId:t.id})]}),Object(be.jsx)(pe.a.Column,{width:"6",children:Object(be.jsx)(vt,{activity:t})})]})}));function xt(){var e=Object(i.useState)(null),t=Object(fe.a)(e,2),n=t[0],r=t[1];return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ge.a,{as:"h1",content:"Test Error component"}),Object(be.jsxs)(xe.a,{children:[Object(be.jsxs)(u.a.Group,{widths:"7",children:[Object(be.jsx)(u.a,{onClick:function(){w.a.get("/apibuggy/not-found").catch((function(e){return console.log(e.response)}))},content:"Not Found",basic:!0,primary:!0}),Object(be.jsx)(u.a,{onClick:function(){w.a.get("/apibuggy/bad-request").catch((function(e){return console.log(e.response)}))},content:"Bad Request",basic:!0,primary:!0}),Object(be.jsx)(u.a,{onClick:function(){w.a.post("/apiactivities",{}).catch((function(e){return r(e)}))},content:"Validation Error",basic:!0,primary:!0}),Object(be.jsx)(u.a,{onClick:function(){w.a.get("/apibuggy/server-error").catch((function(e){return console.log(e.response)}))},content:"Server Error",basic:!0,primary:!0}),Object(be.jsx)(u.a,{onClick:function(){w.a.get("/apibuggy/unauthorised").catch((function(e){return console.log(e.response)}))},content:"Unauthorised",basic:!0,primary:!0}),Object(be.jsx)(u.a,{onClick:function(){w.a.get("/apiactivities/notaguid").catch((function(e){return console.log(e)}))},content:"Bad Guid",basic:!0,primary:!0})]}),n&&Object(be.jsx)(Ye,{errors:n})]})]})}function mt(){return Object(be.jsxs)(xe.a,{placeholder:!0,children:[Object(be.jsxs)(ge.a,{icon:!0,children:[Object(be.jsx)(we.a,{name:"search"}),"Oops, we've looked everywhere and could not find this."]}),Object(be.jsx)(xe.a.Inline,{children:Object(be.jsx)(u.a,{as:j.a,to:C,primary:!0,children:"Go to activities page"})})]})}var yt=Object(b.a)((function(){var e,t,n=je().commonStore;return Object(be.jsxs)(a.a,{children:[Object(be.jsx)(ge.a,{as:"h2",content:"Server Error"}),Object(be.jsx)(ge.a,{sub:!0,as:"h3",content:null===(e=n.error)||void 0===e?void 0:e.message,color:"red"}),(null===(t=n.error)||void 0===t?void 0:t.details)&&Object(be.jsxs)(xe.a,{children:[Object(be.jsx)(ge.a,{sub:!0,as:"h4",content:"Stack Trace",color:"teal",style:{marginBottom:"10px"}}),Object(be.jsx)("code",{children:n.error.details})]})]})})),wt=n(510),kt=Object(b.a)((function(){var e=je().modalStore;return Object(be.jsx)(wt.a,{open:e.isOpen,onClose:e.closeModal,size:"mini",children:Object(be.jsx)(wt.a.Content,{children:e.content})})})),_t=n(516),Ct=Object(b.a)((function(e){var t=e.profile;return Object(be.jsx)(xe.a,{children:Object(be.jsxs)(pe.a,{children:[Object(be.jsx)(pe.a.Column,{width:"12",children:Object(be.jsx)(ye.a.Group,{children:Object(be.jsxs)(ye.a,{children:[Object(be.jsx)(ye.a.Image,{src:t.image||I,size:"small",avatar:!0}),Object(be.jsx)(ye.a.Content,{verticalAlign:"middle",children:Object(be.jsx)(ge.a,{as:"h1",content:t.displayName})})]})})}),Object(be.jsxs)(pe.a.Column,{width:"4",children:[Object(be.jsxs)(_t.a.Group,{widths:"2",children:[Object(be.jsx)(_t.a,{label:"Followers",value:t.followersCount}),Object(be.jsx)(_t.a,{label:"Following",value:t.followingCount})]}),Object(be.jsx)(He.a,{}),Object(be.jsx)(Se,{profile:t})]})]})})})),At=n(522),St=n(287),Lt={border:"dashed 3px #eee",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",textAlign:"center",height:200},It={borderColor:"green"};function Pt(e){var t=e.setFiles,n=Object(i.useCallback)((function(e){t(e.map((function(e){return Object.assign(File,{preview:URL.createObjectURL(e)})})))}),[t]),r=Object(St.a)({onDrop:n}),c=r.getRootProps,a=r.getInputProps,o=r.isDragActive;return Object(be.jsxs)("div",Object(f.a)(Object(f.a)({},c()),{},{style:o?Object(f.a)(Object(f.a)({},Lt),It):Lt,children:[Object(be.jsx)("input",Object(f.a)({},a())),Object(be.jsx)(we.a,{name:"upload",size:"huge"}),Object(be.jsx)(ge.a,{content:"Drop image here"})]}))}n(476);var Nt=n(283);function Ft(e){var t=e.imagePreview,n=e.setCropper;return Object(be.jsx)(Nt.a,{src:t,style:{height:200,width:"100%"},initialAspectRatio:1,aspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,dragMode:"move",autoCropArea:1,modal:!1,background:!1,zoomOnWheel:!1,onInitialized:function(e){return n(e)}})}function Mt(e){var t=e.loading,n=e.uploadPhoto,r=Object(i.useState)([]),c=Object(fe.a)(r,2),a=c[0],o=c[1],s=Object(i.useState)(),l=Object(fe.a)(s,2),d=l[0],j=l[1];return Object(i.useEffect)((function(){return function(){a.forEach((function(e){return URL.revokeObjectURL(e)}))}}),[a]),Object(be.jsxs)(pe.a,{children:[Object(be.jsxs)(pe.a.Column,{width:"4",children:[Object(be.jsx)(ge.a,{sub:!0,color:"teal",content:"Step 1 - Upload photo"}),Object(be.jsx)(Pt,{setFiles:o})]}),Object(be.jsx)(pe.a.Column,{width:"1"}),Object(be.jsxs)(pe.a.Column,{width:"4",children:[Object(be.jsx)(ge.a,{sub:!0,color:"teal",content:"Step 2 - Resize image"}),a.length>0&&Object(be.jsx)(Ft,{imagePreview:a[0].preview,setCropper:j})]}),Object(be.jsx)(pe.a.Column,{width:"1"}),Object(be.jsxs)(pe.a.Column,{width:"4",children:[Object(be.jsx)(ge.a,{sub:!0,color:"teal",content:"Step 1 - Preview upload"}),a.length>0&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{className:"img-preview",style:{minHeight:182,overflow:"hidden"}}),Object(be.jsxs)(u.a.Group,{widths:2,attached:"bottom",children:[Object(be.jsx)(u.a,{onClick:function(){d&&d.getCroppedCanvas().toBlob((function(e){return n(e)}))},loading:t,disabled:t,icon:"check",positive:!0}),Object(be.jsx)(u.a,{onClick:function(){return o([])},disabled:t,icon:"close"})]})]})]})]})}var Ut=Object(b.a)((function(){var e,t=Object(i.useState)(!1),n=Object(fe.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)(null),o=Object(fe.a)(a,2),s=o[0],d=o[1],j=je().profileStore,b=j.profile,h=j.isCurrentUser,f=j.uploadPhoto,p=j.isUploading,O=j.setMainImage,v=j.isLoading,g=j.deleteImage;if(!b)return Object(be.jsx)(mt,{});return Object(be.jsxs)(pe.a,{children:[Object(be.jsxs)(pe.a.Column,{width:"16",children:[Object(be.jsx)(ge.a,{icon:"image",content:"Photos",floated:"left"}),h&&Object(be.jsx)(u.a,{floated:"right",basic:!0,content:r?"Cancel":"Add photo",onClick:function(){return c(!r)}})]}),Object(be.jsx)(pe.a.Column,{width:"16",children:r?Object(be.jsx)(Mt,{uploadPhoto:function(e){f(e).then((function(){return c(!1)}))},loading:p}):Object(be.jsx)(Ce.a.Group,{itemsPerRow:5,children:null===(e=b.photos)||void 0===e?void 0:e.map((function(e){return Object(be.jsxs)(Ce.a,{children:[Object(be.jsx)(l.a,{src:e.url}),h&&Object(be.jsxs)(u.a.Group,{widths:2,attached:"bottom",fluid:!0,children:[Object(be.jsx)(u.a,{onClick:function(t){return function(e,t){s||(d(t.currentTarget.name),O(e).then((function(){return d(null)})))}(e,t)},content:"Main",name:"main"+e.id,disabled:e.isMain,loading:v&&s==="main"+e.id,basic:!0,color:"green",style:{zIndex:1}}),Object(be.jsx)(u.a,{onClick:function(t){return function(e,t){s||(d(t.currentTarget.name),g(e).then((function(){return d(null)})))}(e,t)},icon:"trash",name:e.id,disabled:e.isMain,loading:v&&s===e.id,basic:!0,color:"grey"})]})]},e.id)}))})})]})})),Et=Object(b.a)((function(e){var t=e.profile,n=e.onSubmitted,i=je().profileStore.updateProfile,r=Je.a({displayName:Je.b().required("Display name is required")});return Object(be.jsx)(Ve.d,{initialValues:{displayName:t.displayName,about:t.about},validationSchema:r,onSubmit:function(e){i(e).then(n)},children:function(e){var t=e.isSubmitting,n=e.isValid,i=e.dirty;return Object(be.jsxs)(Ve.c,{className:"ui form",children:[Object(be.jsx)(Be,{placeholder:"DisplayName",name:"displayName"}),Object(be.jsx)(nt,{placeholder:"About me",name:"about",rows:5}),Object(be.jsx)(u.a,{type:"submit",content:"Update profile",floated:"right",positive:!0,loading:t,disabled:t||!i||!n})]})}})})),Tt=Object(b.a)((function(){var e=je().profileStore,t=e.profile,n=e.isCurrentUser,r=Object(i.useState)(!1),c=Object(fe.a)(r,2),a=c[0],o=c[1];return t?Object(be.jsxs)(pe.a,{children:[Object(be.jsxs)(pe.a.Column,{width:"16",children:[Object(be.jsx)(ge.a,{content:"About ".concat(t.displayName),icon:"user",floated:"left"}),n&&Object(be.jsx)(u.a,{content:a?"Cancel":"Edit Profile",floated:"right",basic:!0,onClick:function(){return o(!a)}})]}),Object(be.jsx)(pe.a.Column,{width:"16",children:a?Object(be.jsx)(Et,{profile:t,onSubmitted:function(){return o(!1)}}):Object(be.jsx)("span",{style:{whiteSpace:"pre-line"},children:t.about||"Hello, I am ".concat(t.displayName)})})]}):Object(be.jsx)(mt,{})})),Dt=Object(b.a)((function(){var e=je().profileStore,t=e.profile,n=e.followings,i=e.activeTab;return Object(be.jsxs)(pe.a,{children:[Object(be.jsx)(pe.a.Column,{width:16,children:Object(be.jsx)(ge.a,{floated:"left",icon:"user",content:i===X.Following?"People ".concat(null===t||void 0===t?void 0:t.displayName," is following"):"People following ".concat(null===t||void 0===t?void 0:t.displayName)})}),Object(be.jsx)(pe.a.Column,{width:16,children:Object(be.jsx)(Ce.a.Group,{itemsPerRow:4,children:n.map((function(e){return Object(be.jsx)(Le,{profile:e},e.userName)}))})})]})}));function Rt(e){var t=e.activity,n=new Date;return Object(be.jsxs)(Ce.a,{as:j.a,to:A(t.id),children:[Object(be.jsx)(l.a,{src:P("".concat(t.category,".jpg")),disabled:t.date<n}),Object(be.jsxs)(Ce.a.Content,{textAlign:"center",children:[Object(be.jsx)(Ce.a.Header,{children:t.title}),Object(be.jsx)(Ce.a.Meta,{children:Q(t.date,"dd MMM")}),Object(be.jsx)(Ce.a.Meta,{children:Q(t.date,"hh:mm")})]})]})}var zt=function e(t,n){Object(g.a)(this,e),this.menuItem=void 0,this.key=void 0,this.menuItem=t,this.key=n},Gt=[new zt("Future Events","future"),new zt("Past Events","past"),new zt("Hosting","hosting")],Ht=Object(b.a)((function(){var e=je().profileStore,t=e.profileActivities,n=e.isLoading,r=e.loadProfileActivities,c=e.clearProfileActivities;return Object(i.useEffect)((function(){return r(Gt[0].key),function(){c()}}),[r,c]),Object(be.jsxs)(pe.a,{children:[Object(be.jsx)(pe.a.Column,{width:16,children:Object(be.jsx)(ge.a,{icon:"calendar",content:"Activities"})}),Object(be.jsx)(pe.a.Column,{width:16,children:Object(be.jsx)(At.a,{panes:Gt,menu:{secondary:!0,pointing:!0},onTabChange:function(e,t){var n=t.activeIndex;r(Gt[n].key)},defaultActiveIndex:0})}),Object(be.jsx)(pe.a.Column,{width:16,children:n?Object(be.jsx)(ve.a,{active:!0}):Object(be.jsx)(Ce.a.Group,{itemsPerRow:4,children:t.map((function(e){return Object(be.jsx)(Rt,{activity:e},e.id)}))})})]})})),Vt=Object(b.a)((function(){var e=je().profileStore,t=e.isLoadingFollowers,n=[{menuItem:"About",render:function(){return Object(be.jsx)(At.a.Pane,{children:Object(be.jsx)(Tt,{})})}},{menuItem:"Photos",render:function(){return Object(be.jsx)(At.a.Pane,{children:Object(be.jsx)(Ut,{})})}},{menuItem:"Events",render:function(){return Object(be.jsx)(At.a.Pane,{children:Object(be.jsx)(Ht,{})})}},{menuItem:"Followers",render:function(){return Object(be.jsx)(At.a.Pane,{loading:t,children:Object(be.jsx)(Dt,{})})}},{menuItem:"Following",render:function(){return Object(be.jsx)(At.a.Pane,{loading:t,children:Object(be.jsx)(Dt,{})})}}];return Object(be.jsx)(At.a,{menu:{fluid:!0,vertical:!0},menuPosition:"right",panes:n,onTabChange:function(t,n){return e.activeTab=n.activeIndex}})})),qt=Object(b.a)((function(){var e=Object(Ge.i)().userName,t=je().profileStore,n=t.profile,r=t.loadProfile,c=t.isLoadingProfile,a=t.isCurrentUser;return Object(i.useEffect)((function(){return r(e),function(){t.activeTab=0}}),[r,e,t]),c?Object(be.jsx)(et,{content:"Loading profile..."}):Object(be.jsx)(pe.a,{children:Object(be.jsx)(pe.a.Column,{width:"16",children:n&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ct,{profile:n,isCurrentUser:a}),Object(be.jsx)(Vt,{})]})})})})),Bt=n(289),Wt=["component"];function Jt(e){var t=e.component,n=Object(Bt.a)(e,Wt),i=je().userStore.isLoggedIn;return Object(be.jsx)(Ge.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return i?Object(be.jsx)(t,Object(f.a)({},e)):Object(be.jsx)(Ge.a,{to:_})}}))}var Kt=n(285);function Yt(){var e=je().userStore,t=Object(Ge.h)().hash,n=Kt.parse(t.substring(1)),r=n.access_token,c=n.email,a=n.state;return Object(i.useEffect)((function(){e.vkLogin(r,c)})),a!==z&&en.push("/"),Object(be.jsx)(et,{content:"Loading account..."})}var Zt=Object(b.a)((function(){var e=Object(Ge.h)(),t=je(),n=t.userStore,r=t.commonStore;return Object(i.useEffect)((function(){r.token?n.loadCurrentUser().finally((function(){return r.setAppLoaded()})):r.setAppLoaded()}),[n,r]),r.appLoaded?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(k.a,{position:"bottom-right",hideProgressBar:!0}),Object(be.jsx)(kt,{}),Object(be.jsx)(Ge.b,{exact:!0,path:_,component:Qe}),Object(be.jsx)(Ge.b,{path:"/(.+)",render:function(){return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(he,{}),Object(be.jsx)(a.a,{style:{marginTop:"7em"},children:Object(be.jsxs)(Ge.d,{children:[Object(be.jsx)(Jt,{exact:!0,path:C,component:ze}),Object(be.jsx)(Jt,{path:A(":id"),component:gt}),Object(be.jsx)(Jt,{path:[L,S(":id")],component:lt},e.key),Object(be.jsx)(Jt,{path:U(":userName"),component:qt}),Object(be.jsx)(Jt,{path:F,component:xt}),Object(be.jsx)(Ge.b,{path:"/server-error",component:yt}),Object(be.jsx)(Ge.b,{path:R,component:Yt}),Object(be.jsx)(Ge.b,{component:mt})]})})]})}})]}):Object(be.jsx)(et,{content:"Loading app..."})})),Qt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,523)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))},Xt=n(47);function $t(){var e=Object(Ge.h)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var en=Object(Xt.a)();c.a.render(Object(be.jsx)(de.Provider,{value:le,children:Object(be.jsxs)(Ge.c,{history:en,children:[Object(be.jsx)($t,{}),Object(be.jsx)(Zt,{})]})}),document.getElementById("root")),Qt()}},[[479,1,2]]]);
//# sourceMappingURL=main.0cdf79c1.chunk.js.map